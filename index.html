<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙØ³Ø± Ø§Ù„Ø£Ø­Ù„Ø§Ù… Ø§Ù„Ù…ØªØ®ØµØµ - ØªÙØ³ÙŠØ±Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† Ø§Ù„ÙƒØªØ¨</title>
    <style>
        /* [Ù†ÙØ³ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø³Ø§Ø¨Ù‚] */
        :root {
            --primary: #2c3e50;
            --secondary: #8e44ad;
            --accent: #e74c3c;
            --light: #f9f9f9;
            --dark: #2c3e50;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            border-bottom: 8px solid var(--secondary);
        }
        
        .header h1 {
            color: var(--primary);
            font-size: 2.8rem;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }
        
        .header h1:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 25%;
            width: 50%;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
            border-radius: 2px;
        }
        
        .logo {
            font-size: 4rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #8e44ad, #3498db);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Ø¨Ù‚ÙŠØ© Ø§Ù„ØªØµÙ…ÙŠÙ… Ù…Ø«Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚ Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø·ÙÙŠÙØ© */
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">ğŸ“š</div>
            <h1><i class="fas fa-book-quran"></i> Ù…ÙØ³Ø± Ø§Ù„Ø£Ø­Ù„Ø§Ù… Ø§Ù„Ù…ØªØ®ØµØµ</h1>
            <p>ØªÙØ³ÙŠØ±Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† ÙƒØªØ¨: Ø§Ø¨Ù† Ø³ÙŠØ±ÙŠÙ†ØŒ Ø§Ù„Ù†Ø§Ø¨Ù„Ø³ÙŠØŒ Ø§Ø¨Ù† Ø´Ø§Ù‡ÙŠÙ†ØŒ Ø§Ù„ÙƒØ±Ù…Ù„ÙŠ</p>
            <div class="trust-badge">
                <span><i class="fas fa-check-circle"></i> Ù…ØµØ§Ø¯Ø± Ù…ÙˆØ«ÙˆÙ‚Ø©</span>
                <span><i class="fas fa-star"></i> ØªÙØ³ÙŠØ±Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©</span>
                <span><i class="fas fa-shield-alt"></i> Ù…Ø¯Ù‚Ù‚ Ø¹Ù„Ù…ÙŠØ§Ù‹</span>
            </div>
        </header>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø°ÙƒÙŠ -->
        <section class="dream-input-section">
            <div class="input-header">
                <h2><i class="fas fa-pen-nib"></i> ÙˆØµÙ Ø§Ù„Ø­Ù„Ù… Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</h2>
                <p>Ø§ÙƒØªØ¨ Ø­Ù„Ù…Ùƒ Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø±Ù…ÙˆØ² ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø´Ø§Ø¹Ø±</p>
            </div>
            
            <form class="dream-form" id="dreamForm">
                <div class="form-group">
                    <label for="dreamText"><i class="fas fa-dream-catcher"></i> Ø§Ù„Ù†Øµ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ:</label>
                    <textarea id="dreamText" placeholder="Ù…Ø«Ø§Ù„: Ø±Ø£ÙŠØª ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… Ø£Ù†Ù†ÙŠ Ø£Ø³ÙŠØ± ÙÙŠ Ø¨Ø³ØªØ§Ù† Ù…Ù„ÙŠØ¡ Ø¨Ø§Ù„Ø£Ø´Ø¬Ø§Ø± Ø§Ù„Ù…Ø«Ù…Ø±Ø©ØŒ ÙˆÙƒØ§Ù†Øª Ø§Ù„Ø´Ù…Ø³ Ù…Ø´Ø±Ù‚Ø© ÙˆØ§Ù„Ø·Ù‚Ø³ Ø¬Ù…ÙŠÙ„. Ø±Ø£ÙŠØª ØªÙØ§Ø­Ø§Ù‹ Ø£Ø­Ù…Ø± ÙˆØªÙØ§Ø­Ø§Ù‹ Ø£Ø®Ø¶Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø´Ø¬Ø§Ø±..." rows="5"></textarea>
                </div>
                
                <!-- ÙØ¦Ø§Øª Ø§Ù„Ø£Ø­Ù„Ø§Ù… Ø§Ù„Ø³Ø±ÙŠØ¹Ø© -->
                <div class="dream-categories">
                    <h4><i class="fas fa-tags"></i> Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:</h4>
                    <div class="category-tags">
                        <label class="tag">
                            <input type="checkbox" name="category" value="water">
                            <span>Ù…Ø§Ø¡/Ø¨Ø­Ø±/Ù†Ù‡Ø±</span>
                        </label>
                        <label class="tag">
                            <input type="checkbox" name="category" value="animals">
                            <span>Ø­ÙŠÙˆØ§Ù†Ø§Øª</span>
                        </label>
                        <label class="tag">
                            <input type="checkbox" name="category" value="death">
                            <span>Ù…ÙˆØª/Ø¯ÙÙ†</span>
                        </label>
                        <label class="tag">
                            <input type="checkbox" name="category" value="marriage">
                            <span>Ø²ÙˆØ§Ø¬/Ø¹Ø±Ø³</span>
                        </label>
                        <label class="tag">
                            <input type="checkbox" name="category" value="money">
                            <span>Ù…Ø§Ù„/Ø°Ù‡Ø¨/ÙØ¶Ø©</span>
                        </label>
                        <label class="tag">
                            <input type="checkbox" name="category" value="flying">
                            <span>Ø·ÙŠØ±Ø§Ù†/Ø³Ù‚ÙˆØ·</span>
                        </label>
                        <label class="tag">
                            <input type="checkbox" name="category" value="teeth">
                            <span>Ø£Ø³Ù†Ø§Ù†/ØªØ³Ø§Ù‚Ø·</span>
                        </label>
                        <label class="tag">
                            <input type="checkbox" name="category" value="house">
                            <span>Ø¨ÙŠØª/Ø¨Ù†Ø§Ø¡</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-search"></i> ÙØ³Ø± Ø§Ù„Ø­Ù„Ù… Ø¨Ø¯Ù‚Ø©
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="showSymbolsGuide()">
                        <i class="fas fa-book"></i> Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø±Ù…ÙˆØ²
                    </button>
                </div>
            </form>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø­Ø³Ù†Ø© -->
        <section class="result-section" id="resultSection">
            <div class="result-header">
                <h2><i class="fas fa-scroll"></i> Ø§Ù„ØªÙØ³ÙŠØ± Ø§Ù„Ù…ØªØ®ØµØµ</h2>
                <div class="result-meta">
                    <span id="interpretationSource">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙØ³ÙŠØ±...</span>
                    <span id="interpretationConfidence"></span>
                </div>
            </div>
            
            <div class="interpretation-container">
                <!-- Ø§Ù„ØªÙØ³ÙŠØ± Ù…Ù† Ø§Ù„ÙƒØªØ¨ -->
                <div class="interpretation-box book-interpretation">
                    <h3><i class="fas fa-book"></i> Ù…Ù† ÙƒØªØ¨ Ø§Ù„ØªÙØ³ÙŠØ±:</h3>
                    <div id="bookResult">
                        <div class="source-tabs">
                            <button class="source-btn active" onclick="showSource('ibn_sirin')">Ø§Ø¨Ù† Ø³ÙŠØ±ÙŠÙ†</button>
                            <button class="source-btn" onclick="showSource('alnabolsi')">Ø§Ù„Ù†Ø§Ø¨Ù„Ø³ÙŠ</button>
                            <button class="source-btn" onclick="showSource('ibn_shahin')">Ø§Ø¨Ù† Ø´Ø§Ù‡ÙŠÙ†</button>
                        </div>
                        <div class="source-content" id="ibn_sirin">
                            <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </div>
                    </div>
                </div>
                
                <!-- Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ø¯ÙŠØ« -->
                <div class="interpretation-box modern-interpretation">
                    <h3><i class="fas fa-brain"></i> Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙØ³ÙŠ Ø§Ù„Ø­Ø¯ÙŠØ«:</h3>
                    <div id="modernResult"></div>
                </div>
                
                <!-- Ø§Ù„Ù†ØµÙŠØ­Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© -->
                <div class="interpretation-box advice-box">
                    <h3><i class="fas fa-lightbulb"></i> Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©:</h3>
                    <div id="adviceResult"></div>
                </div>
            </div>
        </section>
    </div>

    <!-- Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ³ÙŠØ±Ø§Øª Ù…Ø­Ù„ÙŠØ© -->
    <script>
        // ğŸ“š Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ³ÙŠØ±Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† Ø§Ù„ÙƒØªØ¨
        const DREAM_DATABASE = {
            // ØªÙØ³ÙŠØ±Ø§Øª Ø§Ø¨Ù† Ø³ÙŠØ±ÙŠÙ†
            ibn_sirin: {
                water: {
                    sea: "Ø±Ø¤ÙŠØ© Ø§Ù„Ø¨Ø­Ø± ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… ØªØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ù„Ø·Ø§Ù†. ÙÙ…Ù† Ø±Ø£Ù‰ Ø£Ù†Ù‡ ÙŠØºÙˆØµ ÙÙŠ Ø§Ù„Ø¨Ø­Ø± ÙˆÙŠØ®Ø±Ø¬ Ù…Ù†Ù‡ØŒ ÙØ¥Ù†Ù‡ ÙŠÙ…Ø±Ø¶ Ø«Ù… ÙŠØ´ÙÙ‰.",
                    river: "Ø§Ù„Ù†Ù‡Ø± Ø§Ù„Ø¬Ø§Ø±ÙŠ Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø²Ù‚ ÙˆØ§Ù„Ø¹Ù„Ù…. ÙˆÙ…Ù† Ø±Ø£Ù‰ Ø£Ù†Ù‡ ÙŠØ´Ø±Ø¨ Ù…Ù† Ù†Ù‡Ø± Ø¹Ø°Ø¨ØŒ ÙØ¥Ù†Ù‡ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ Ø¹Ù„Ù… Ù†Ø§ÙØ¹.",
                    rain: "Ø§Ù„Ù…Ø·Ø± ÙÙŠ ÙˆÙ‚ØªÙ‡ Ø®ÙŠØ± ÙˆØ±Ø²Ù‚ØŒ ÙˆØ§Ù„Ù…Ø·Ø± ÙÙŠ ØºÙŠØ± ÙˆÙ‚ØªÙ‡ Ù‡Ù… ÙˆØºÙ…."
                },
                animals: {
                    lion: "Ø§Ù„Ø£Ø³Ø¯ ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… Ø³Ù„Ø·Ø§Ù† Ù‚ÙˆÙŠØŒ ÙˆÙ…Ù† Ø±Ø£Ù‰ Ø£Ù†Ù‡ ÙŠØ±ÙƒØ¨ Ø£Ø³Ø¯Ø§Ù‹ ÙØ¥Ù†Ù‡ ÙŠØºÙ„Ø¨ Ø¹Ø¯ÙˆØ§Ù‹ Ù‚ÙˆÙŠØ§Ù‹.",
                    snake: "Ø§Ù„Ø­ÙŠØ© Ø¹Ø¯ÙˆØŒ ÙØ¥Ù† Ù‚ØªÙ„Ù‡Ø§ Ù‚Ø¶Ù‰ Ø¹Ù„Ù‰ Ø¹Ø¯ÙˆÙ‡. ÙˆØ§Ù„Ø­ÙŠØ© Ø§Ù„ØµØºÙŠØ±Ø© Ù‡Ù… Ù…Ù† ØµØ¯ÙŠÙ‚.",
                    bird: "Ø§Ù„Ø·ÙŠÙˆØ± Ø§Ù„Ù…Ø­Ù„Ù‚Ø© ØªØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø³Ø§Ø±Ø©ØŒ ÙˆØ§Ù„Ø·ÙŠØ± Ø§Ù„Ù…Ø°Ø¨ÙˆØ­ Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ù…ÙˆØª."
                },
                death: {
                    self_death: "Ù…Ù† Ø±Ø£Ù‰ Ø£Ù†Ù‡ Ù…ÙŠØª Ø«Ù… Ø­ÙŠÙŠØŒ ÙØ¥Ù†Ù‡ ÙŠØ±ØªÙƒØ¨ Ø°Ù†Ø¨Ø§Ù‹ Ø«Ù… ÙŠØªÙˆØ¨. ÙˆØ§Ù„Ù…ÙˆØª ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… Ø³ÙØ±.",
                    others_death: "Ù…ÙˆØª Ø§Ù„Ø­ÙŠ ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… Ø®ÙŠØ±ØŒ ÙˆÙ…ÙˆØª Ø§Ù„Ù…ÙŠØª Ø´Ø±.",
                    burial: "Ø§Ù„Ø¯ÙÙ† ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¬Ù† Ø£Ùˆ Ø§Ù„Ù‡Ù…."
                },
                flying: {
                    high: "Ø§Ù„Ø·ÙŠØ±Ø§Ù† ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡ Ø¨Ù„Ø§ Ø£Ø¬Ù†Ø­Ø© Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø¹Ù„Ùˆ Ø§Ù„Ø´Ø£Ù† ÙˆØ§Ù„Ù…Ù†Ø²Ù„Ø©.",
                    falling: "Ø§Ù„Ø³Ù‚ÙˆØ· Ù…Ù† Ù…ÙƒØ§Ù† Ø¹Ø§Ù„Ù ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø®Ø³Ø§Ø±Ø© Ù…Ù†ØµØ¨ Ø£Ùˆ Ù…Ø§Ù„.",
                    with_wings: "Ø§Ù„Ø·ÙŠØ±Ø§Ù† Ø¨Ø£Ø¬Ù†Ø­Ø© ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø³ÙØ± ÙˆØ³Ø±Ø¹Ø© ÙÙŠ Ø§Ù„Ø­Ø±ÙƒØ©."
                },
                teeth: {
                    falling: "ØªØ³Ø§Ù‚Ø· Ø§Ù„Ø£Ø³Ù†Ø§Ù† ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ù‡Ù…ÙˆÙ… ÙˆØºÙ…ÙˆÙ…. Ø§Ù„ÙÙƒ Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø£Ù‡Ù„ Ø§Ù„Ø¨ÙŠØªØŒ ÙˆØ§Ù„Ø³ÙÙ„ÙŠ Ø§Ù„Ø£ØµØ­Ø§Ø¨.",
                    white: "Ø§Ù„Ø£Ø³Ù†Ø§Ù† Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ Ø§Ù„Ø¬Ù…ÙŠØ¯Ø© Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ù‚ÙˆØ© Ø§Ù„Ø£Ù‡Ù„ ÙˆØ§Ù„Ø¹Ø´ÙŠØ±Ø©.",
                    pain: "ÙˆØ¬Ø¹ Ø§Ù„Ø£Ø³Ù†Ø§Ù† ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ ØºÙŠØ¨Ø© Ø£Ùˆ Ø´ØªÙ…."
                },
                house: {
                    big: "Ø§Ù„Ø¨ÙŠØª Ø§Ù„ÙƒØ¨ÙŠØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø³Ø¹Ø© ÙÙŠ Ø§Ù„Ø±Ø²Ù‚ ÙˆØ§Ù„Ø¹Ù…Ø±.",
                    old: "Ø§Ù„Ø¨ÙŠØª Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ù…ÙˆÙ… ÙˆØ§Ù„Ø£Ø­Ø²Ø§Ù†.",
                    building: "Ø¨Ù†Ø§Ø¡ Ø¨ÙŠØª Ø¬Ø¯ÙŠØ¯ Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø²ÙˆØ§Ø¬ Ø£Ùˆ Ù…Ø´Ø±ÙˆØ¹ Ù†Ø§Ø¬Ø­."
                }
            },
            
            // ØªÙØ³ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø§Ø¨Ù„Ø³ÙŠ
            alnabolsi: {
                water: {
                    sea: "Ø§Ù„Ø¨Ø­Ø± Ø§Ù„ÙƒØ«ÙŠØ± Ø§Ù„Ù…Ø§Ø¡ Ù…Ø§Ù„ ÙƒØ«ÙŠØ± Ù…Ù† Ø¬Ù‡Ø© Ø§Ù„Ø³Ù„Ø·Ø§Ù†ØŒ ÙˆØ§Ù„Ø¨Ø­Ø± Ø§Ù„Ù‡Ø§Ø¦Ø¬ Ø®ÙˆÙ Ù…Ù† Ø§Ù„Ø³Ù„Ø·Ø§Ù†.",
                    river: "Ø§Ù„Ù†Ù‡Ø± Ø§Ù„Ø¹Ø°Ø¨ Ø¹Ù„Ù… ÙˆØ´Ø±ÙØŒ ÙˆØ§Ù„Ù†Ù‡Ø± Ø§Ù„Ø¢Ø³Ù† Ù…Ø±Ø¶ ÙˆÙ‡Ù….",
                    rain: "Ø§Ù„Ù…Ø·Ø± ÙÙŠ Ø£ÙˆØ§Ù†Ù‡ Ø±Ø²Ù‚ ÙˆØ¨Ø±ÙƒØ©ØŒ ÙˆØ§Ù„Ù…Ø·Ø± Ù…Ø¹ Ø§Ù„Ø±Ø¹Ø¯ ØªØºÙŠØ± Ø­Ø§Ù„."
                },
                marriage: {
                    self: "Ø§Ù„Ø²ÙˆØ§Ø¬ ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… Ù„Ù„Ù…ØªØ²ÙˆØ¬ Ø²ÙŠØ§Ø¯Ø© ÙÙŠ Ø§Ù„Ø®ÙŠØ±ØŒ ÙˆÙ„Ù„Ø¹Ø²Ø¨ Ø²ÙˆØ§Ø¬ Ù‚Ø±ÙŠØ¨.",
                    others: "Ø­Ø¶ÙˆØ± Ø§Ù„Ø¹Ø±Ø³ ÙØ±Ø­ ÙˆØ³Ø±ÙˆØ±ØŒ ÙˆØ§Ù„Ø¹Ø±Ø³ Ù„Ù„Ø¹Ø²Ø¨ Ø²ÙˆØ§Ø¬."
                },
                money: {
                    gold: "Ø§Ù„Ø°Ù‡Ø¨ ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… Ù‡Ù… ÙˆØºÙ…ØŒ Ø¥Ù„Ø§ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…Ø¶Ø±ÙˆØ¨Ø§Ù‹ ÙÙ‡Ùˆ Ø¹Ù„Ù… ÙˆÙ†ÙØ¹.",
                    silver: "Ø§Ù„ÙØ¶Ø© Ù…Ø§Ù„ Ø­Ù„Ø§Ù„ØŒ ÙˆØ§Ù„Ø¯Ø±Ø§Ù‡Ù… Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¬Ø¯ÙŠØ¯Ø© Ø¯Ù„Øª Ø¹Ù„Ù‰ ÙˆÙ„Ø¯."
                }
            },
            
            // ØªÙØ³ÙŠØ±Ø§Øª Ø§Ø¨Ù† Ø´Ø§Ù‡ÙŠÙ†
            ibn_shahin: {
                animals: {
                    cat: "Ø§Ù„Ù‡Ø±Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… Ø§Ù…Ø±Ø£Ø© Ø®Ø¤ÙˆÙ†ØŒ ÙˆÙ‚ØªÙ„Ù‡Ø§ Ø§Ù„ØªØ®Ù„Øµ Ù…Ù† Ø´Ø±Ù‡Ø§.",
                    dog: "Ø§Ù„ÙƒÙ„Ø¨ Ø§Ù„Ø£Ø³ÙˆØ¯ Ø³Ø­Ø±ØŒ ÙˆØ§Ù„Ø£Ø¨ÙŠØ¶ ØµØ¯ÙŠÙ‚ Ù…Ø®Ù„Øµ.",
                    horse: "Ø§Ù„ÙØ±Ø³ Ø§Ù„Ø¬ÙˆØ§Ø¯ Ø±Ø²Ù‚ ÙˆÙÙŠØ±ØŒ ÙˆØ§Ù„ÙØ±Ø³ Ø§Ù„Ù‡Ø²ÙŠÙ„ Ù…Ø±Ø¶."
                },
                colors: {
                    white: "Ø§Ù„Ø£Ø¨ÙŠØ¶ ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­.",
                    black: "Ø§Ù„Ø£Ø³ÙˆØ¯ ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙØ± Ø£Ùˆ Ø§Ù„Ø­Ø²Ù† Ø§Ù„Ø´Ø¯ÙŠØ¯.",
                    green: "Ø§Ù„Ø£Ø®Ø¶Ø± Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙŠÙ† ÙˆØ§Ù„Ø¹Ø¨Ø§Ø¯Ø© ÙˆØ§Ù„Ø¹Ù„Ù….",
                    red: "Ø§Ù„Ø£Ø­Ù…Ø± ÙØ±Ø­ ÙˆØ³Ø±ÙˆØ±ØŒ ÙˆÙ‚Ø¯ ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø¯Ù… Ø£Ùˆ Ø­Ø±Ø¨."
                }
            }
        };

        // ğŸ§  Ù†Ù…Ø§Ø°Ø¬ Ù…Ø¹Ø¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ù„Ù„ØªÙØ³ÙŠØ±
        const INTERPRETATION_TEMPLATES = {
            flying: {
                high: "ÙŠÙ‚ÙˆÙ„ Ø§Ø¨Ù† Ø³ÙŠØ±ÙŠÙ†: Ù…Ù† Ø±Ø£Ù‰ Ø£Ù†Ù‡ ÙŠØ·ÙŠØ± ÙÙŠ Ø§Ù„Ù‡ÙˆØ§Ø¡ Ù…Ù† Ù…ÙƒØ§Ù† Ø¥Ù„Ù‰ Ù…ÙƒØ§Ù†ØŒ ÙØ¥Ù†Ù‡ ÙŠØ³Ø§ÙØ±. ÙˆÙ…Ù† Ø·Ø§Ø± ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡ Ø¨Ù„Ø§ Ø£Ø¬Ù†Ø­Ø©ØŒ ÙØ¥Ù†Ù‡ ÙŠØ¹Ù„Ùˆ Ø´Ø£Ù†Ù‡ ÙˆÙŠØµÙŠØ¨ ÙˆÙ„Ø§ÙŠØ©.",
                falling: "Ø§Ù„Ø³Ù‚ÙˆØ· Ù…Ù† Ù…ÙƒØ§Ù† Ø¹Ø§Ù„ ÙŠØ¯Ù„ Ø¹Ù„Ù‰ ÙÙ‚Ø¯Ø§Ù† Ù…Ù†ØµØ¨ Ø£Ùˆ Ø®Ø³Ø§Ø±Ø© Ù…Ø§Ù„. ÙˆØ§Ù„Ù†Ø§Ø¨Ù„Ø³ÙŠ ÙŠØ¶ÙŠÙ: Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¯Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù„Ù‰ Ø³ÙØ± Ù…ÙØ§Ø¬Ø¦ Ø£Ùˆ ØªØºÙŠØ± ÙÙŠ Ø§Ù„Ø£Ø­ÙˆØ§Ù„."
            },
            water: {
                sea: "Ø§Ù„Ø¨Ø­Ø± ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù… ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø¯Ù†ÙŠØ§ Ø¨Ø³Ø±Ø§Ø¦Ù‡Ø§ ÙˆØ¶Ø±Ø§Ø¦Ù‡Ø§. Ø§Ù„ØºØ±Ù‚ ÙÙŠ Ø§Ù„Ø¨Ø­Ø± Ù…Ø±Ø¶ØŒ ÙˆØ§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù†Ù‡ Ø´ÙØ§Ø¡.",
                river: "Ø§Ù„Ù†Ù‡Ø± Ø§Ù„Ø¹Ø°Ø¨ ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø¹Ù„Ù… Ù†Ø§ÙØ¹ Ø£Ùˆ Ø±Ø²Ù‚ ÙˆØ§Ø³Ø¹. ÙˆØ§Ù„Ø´Ø±Ø¨ Ù…Ù†Ù‡ Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù†ÙØ¹Ø© Ø£Ùˆ Ù…Ø§Ù„."
            },
            animals: {
                lion: "Ø§Ù„Ø£Ø³Ø¯ Ø³Ù„Ø·Ø§Ù† Ù‚ÙˆÙŠØŒ ÙˆØ±ÙƒÙˆØ¨Ù‡ ØºÙ„Ø¨Ø© Ø¹Ø¯Ùˆ. Ø§Ù„Ø£Ø³Ø¯ Ø§Ù„Ù…ÙŠØª Ù…ÙˆØª Ø³Ù„Ø·Ø§Ù†.",
                snake: "Ø§Ù„Ø­ÙŠØ© Ø¹Ø¯Ùˆ Ø®ÙÙŠØŒ ÙˆÙ‚ØªÙ„Ù‡Ø§ Ù†ØµØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¯Ùˆ. Ø§Ù„Ø­ÙŠØ© Ø§Ù„ØµØºÙŠØ±Ø© Ù‡Ù… Ù…Ù† Ù‚Ø±ÙŠØ¨."
            }
        };

        // ğŸ” Ù…Ø­Ù„Ù„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…ØªØ®ØµØµ
        class DreamAnalyzer {
            constructor() {
                this.keywords = {
                    water: ['Ù…Ø§Ø¡', 'Ø¨Ø­Ø±', 'Ù†Ù‡Ø±', 'Ù…Ø·Ø±', 'ØºØ±Ù‚', 'Ø³Ø¨Ø§Ø­Ø©', 'Ù…Ø­ÙŠØ·'],
                    flying: ['ÙŠØ·ÙŠØ±', 'Ø·ÙŠØ±Ø§Ù†', 'ÙŠØ­Ù„Ù‚', 'Ø³Ù‚ÙˆØ·', 'ÙŠØ³Ù‚Ø·', 'ÙŠØ·ÙŠØ±', 'Ø³Ù…Ø§Ø¡'],
                    animals: ['Ø£Ø³Ø¯', 'ÙƒÙ„Ø¨', 'Ù‚Ø·Ø©', 'Ø·ÙŠØ±', 'Ø¹ØµÙÙˆØ±', 'Ø­ÙŠÙˆØ§Ù†', 'Ø«Ø¹Ø¨Ø§Ù†'],
                    death: ['Ù…ÙŠØª', 'Ù…ÙˆØª', 'Ø¯ÙÙ†', 'Ù‚Ø¨Ø±', 'Ø¬Ù†Ø§Ø²Ø©', 'Ø£Ù…ÙˆØ§Øª'],
                    marriage: ['Ø²ÙˆØ§Ø¬', 'Ø¹Ø±Ø³', 'Ø¹Ø±ÙˆØ³', 'Ø¹Ø±ÙŠØ³', 'ÙØ±Ø­', 'ØªØ²ÙˆÙŠØ¬'],
                    money: ['Ø°Ù‡Ø¨', 'ÙØ¶Ø©', 'Ù…Ø§Ù„', 'Ù†Ù‚ÙˆØ¯', 'Ø¯Ø±Ø§Ù‡Ù…', 'Ø¯Ù†Ø§Ù†ÙŠØ±'],
                    teeth: ['Ø³Ù†', 'Ø£Ø³Ù†Ø§Ù†', 'Ø¶Ø±Ø³', 'ØªØ³Ø§Ù‚Ø·', 'Ø³Ù‚ÙˆØ·', 'ÙÙƒ'],
                    house: ['Ø¨ÙŠØª', 'Ù…Ù†Ø²Ù„', 'Ø¯Ø§Ø±', 'Ø¨Ù†Ø§Ø¡', 'ØºØ±ÙØ©', 'Ø³Ù‚Ù']
                };
            }
            
            analyze(dreamText) {
                const categories = [];
                const symbols = [];
                const details = {
                    colors: [],
                    numbers: [],
                    emotions: []
                };
                
                // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ Ù„Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©
                const text = dreamText.toLowerCase();
                
                for (const [category, words] of Object.entries(this.keywords)) {
                    for (const word of words) {
                        if (text.includes(word)) {
                            if (!categories.includes(category)) {
                                categories.push(category);
                            }
                            symbols.push({category, symbol: word});
                        }
                    }
                }
                
                // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø£Ù„ÙˆØ§Ù†
                const colors = ['Ø£Ø­Ù…Ø±', 'Ø£Ø®Ø¶Ø±', 'Ø£Ø²Ø±Ù‚', 'Ø£ØµÙØ±', 'Ø£Ø¨ÙŠØ¶', 'Ø£Ø³ÙˆØ¯', 'Ø°Ù‡Ø¨ÙŠ', 'ÙØ¶ÙŠ'];
                colors.forEach(color => {
                    if (text.includes(color)) details.colors.push(color);
                });
                
                // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
                const numbers = text.match(/\d+/g) || [];
                details.numbers = numbers;
                
                // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ø¹Ø±
                const positiveWords = ['Ø³Ø¹ÙŠØ¯', 'ÙØ±Ø­', 'Ø¶Ø­Ùƒ', 'Ø¬Ù…Ø§Ù„', 'Ù†ÙˆØ±', 'Ù…Ø´Ø±Ù‚'];
                const negativeWords = ['Ø®ÙˆÙ', 'Ø­Ø²Ù†', 'Ø¨ÙƒØ§Ø¡', 'Ø¸Ù„Ø§Ù…', 'Ø£Ù„Ù…', 'Ø®Ø³Ø§Ø±Ø©'];
                
                details.emotions = {
                    positive: positiveWords.filter(word => text.includes(word)).length,
                    negative: negativeWords.filter(word => text.includes(word)).length
                };
                
                return {
                    categories,
                    symbols,
                    details,
                    score: this.calculateScore(categories, details.emotions)
                };
            }
            
            calculateScore(categories, emotions) {
                let score = 50; // Ù…ØªÙˆØ³Ø·
                score += categories.length * 5;
                score += (emotions.positive * 10);
                score -= (emotions.negative * 10);
                return Math.min(100, Math.max(0, score));
            }
            
            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            searchDatabase(categories, symbols) {
                const results = {
                    ibn_sirin: [],
                    alnabolsi: [],
                    ibn_shahin: []
                };
                
                symbols.forEach(symbolObj => {
                    const {category, symbol} = symbolObj;
                    
                    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ø¨Ù† Ø³ÙŠØ±ÙŠÙ†
                    if (DREAM_DATABASE.ibn_sirin[category] && DREAM_DATABASE.ibn_sirin[category][symbol]) {
                        results.ibn_sirin.push({
                            symbol,
                            interpretation: DREAM_DATABASE.ibn_sirin[category][symbol],
                            confidence: 'Ø¹Ø§Ù„ÙŠØ©'
                        });
                    }
                    
                    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù†Ø§Ø¨Ù„Ø³ÙŠ
                    if (DREAM_DATABASE.alnabolsi[category] && DREAM_DATABASE.alnabolsi[category][symbol]) {
                        results.alnabolsi.push({
                            symbol,
                            interpretation: DREAM_DATABASE.alnabolsi[category][symbol],
                            confidence: 'Ù…ØªÙˆØ³Ø·Ø©'
                        });
                    }
                });
                
                return results;
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ ØªÙØ³ÙŠØ± Ù…Ù†Ø¸Ù…
            generateInterpretation(analysis, databaseResults) {
                const interpretation = {
                    book: this.formatBookInterpretation(databaseResults),
                    modern: this.generateModernAnalysis(analysis),
                    advice: this.generateAdvice(analysis),
                    confidence: analysis.score
                };
                
                return interpretation;
            }
            
            formatBookInterpretation(results) {
                let html = '';
                
                // Ø§Ø¨Ù† Ø³ÙŠØ±ÙŠÙ†
                if (results.ibn_sirin.length > 0) {
                    html += '<div class="interpretation-source">';
                    html += '<h4><i class="fas fa-book-open"></i> ØªÙØ³ÙŠØ± Ø§Ø¨Ù† Ø³ÙŠØ±ÙŠÙ†:</h4>';
                    results.ibn_sirin.forEach(item => {
                        html += `<div class="interpretation-item">
                            <strong>${item.symbol}:</strong> ${item.interpretation}
                            <span class="confidence-badge">${item.confidence}</span>
                        </div>`;
                    });
                    html += '</div>';
                }
                
                // Ø§Ù„Ù†Ø§Ø¨Ù„Ø³ÙŠ
                if (results.alnabolsi.length > 0) {
                    html += '<div class="interpretation-source">';
                    html += '<h4><i class="fas fa-book"></i> ØªÙØ³ÙŠØ± Ø§Ù„Ù†Ø§Ø¨Ù„Ø³ÙŠ:</h4>';
                    results.alnabolsi.forEach(item => {
                        html += `<div class="interpretation-item">
                            <strong>${item.symbol}:</strong> ${item.interpretation}
                            <span class="confidence-badge">${item.confidence}</span>
                        </div>`;
                    });
                    html += '</div>';
                }
                
                return html || '<p>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØªÙØ³ÙŠØ± Ù…Ø¨Ø§Ø´Ø± ÙÙŠ Ø§Ù„ÙƒØªØ¨. Ø­Ø§ÙˆÙ„ ÙˆØµÙ Ø§Ù„Ø­Ù„Ù… Ø¨Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„.</p>';
            }
            
            generateModernAnalysis(analysis) {
                const {categories, details, score} = analysis;
                
                let html = '<div class="modern-analysis">';
                html += '<h4>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ù…ÙˆØ²:</h4>';
                
                if (categories.length > 0) {
                    html += '<p><strong>Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:</strong> ' + categories.join('ØŒ ') + '</p>';
                }
                
                if (details.colors.length > 0) {
                    html += '<p><strong>Ø§Ù„Ø£Ù„ÙˆØ§Ù†:</strong> ' + details.colors.join('ØŒ ') + '</p>';
                    
                    // ØªÙØ³ÙŠØ± Ø§Ù„Ø£Ù„ÙˆØ§Ù†
                    const colorMeanings = {
                        'Ø£Ø­Ù…Ø±': 'ÙØ±Ø­ØŒ Ø·Ø§Ù‚Ø©ØŒ Ø­Ø¨ (ÙˆÙ‚Ø¯ ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø¯Ù… Ø£Ùˆ Ø­Ø±Ø¨)',
                        'Ø£Ø®Ø¶Ø±': 'Ø¯ÙŠÙ†ØŒ Ø£Ù…Ù„ØŒ Ù†Ù…ÙˆØŒ Ø±Ø²Ù‚',
                        'Ø£Ø²Ø±Ù‚': 'ØµÙØ§Ø¡ØŒ Ø³Ù„Ø§Ù…ØŒ Ø¹Ù…Ù‚',
                        'Ø£ØµÙØ±': 'Ù…Ø±Ø¶ØŒ Ø­Ø°Ø±ØŒ Ø°ÙƒØ§Ø¡',
                        'Ø£Ø¨ÙŠØ¶': 'Ù†Ù‚Ø§Ø¡ØŒ ØµÙ„Ø§Ø­ØŒ ÙØ±Ø­',
                        'Ø£Ø³ÙˆØ¯': 'Ø­Ø²Ù†ØŒ ÙƒØ±Ø¨ØŒ Ù‚Ø¯ ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø¹Ù„Ù…',
                        'Ø°Ù‡Ø¨ÙŠ': 'Ù…Ø§Ù„ØŒ Ø¬Ø§Ù‡ØŒ Ù…Ù†ØµØ¨',
                        'ÙØ¶ÙŠ': 'Ø¹Ù„Ù…ØŒ Ø­ÙƒÙ…Ø©ØŒ Ø£Ù†Ø«Ù‰'
                    };
                    
                    details.colors.forEach(color => {
                        if (colorMeanings[color]) {
                            html += `<small>â€¢ ${color}: ${colorMeanings[color]}</small><br>`;
                        }
                    });
                }
                
                html += `<p><strong>Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø´Ø§Ø¹Ø±:</strong> `;
                if (details.emotions.positive > details.emotions.negative) {
                    html += 'Ø¥ÙŠØ¬Ø§Ø¨ÙŠ Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ù…</p>';
                } else if (details.emotions.negative > details.emotions.positive) {
                    html += 'Ø³Ù„Ø¨ÙŠ Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ù…</p>';
                } else {
                    html += 'Ù…ØªÙˆØ§Ø²Ù†</p>';
                }
                
                html += `<p><strong>Ø¯Ø±Ø¬Ø© Ø§Ù„Ø«Ù‚Ø© ÙÙŠ Ø§Ù„ØªÙØ³ÙŠØ±:</strong> ${score}%</p>`;
                html += '</div>';
                
                return html;
            }
            
            generateAdvice(analysis) {
                const {score, details} = analysis;
                
                let advice = '';
                
                if (score >= 70) {
                    advice = 'Ù‡Ø°Ø§ Ø§Ù„ØªÙØ³ÙŠØ± Ø°Ùˆ Ù…ØµØ¯Ø§Ù‚ÙŠØ© Ø¹Ø§Ù„ÙŠØ©. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„ÙŠÙ‡ ÙÙŠ ÙÙ‡Ù… Ø¯Ù„Ø§Ù„Ø§Øª Ø­Ù„Ù…Ùƒ.';
                } else if (score >= 40) {
                    advice = 'Ø§Ù„ØªÙØ³ÙŠØ± Ù…Ø¹Ù‚ÙˆÙ„ Ù„ÙƒÙ†Ù‡ ÙŠØ­ØªØ§Ø¬ Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ³ÙŠØ± Ø£Ø¯Ù‚.';
                } else {
                    advice = 'Ø­Ø§ÙˆÙ„ ØªØ°ÙƒØ± Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø¹Ù† Ø­Ù„Ù…Ùƒ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ³ÙŠØ± Ø£ÙØ¶Ù„.';
                }
                
                // Ù†ØµÙŠØ­Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø´Ø§Ø¹Ø±
                if (details.emotions.negative > 3) {
                    advice += ' ÙŠØ¨Ø¯Ùˆ Ø£Ù† Ø§Ù„Ø­Ù„Ù… ÙŠØ­Ù…Ù„ Ù…Ø´Ø§Ø¹Ø± Ø³Ù„Ø¨ÙŠØ©ØŒ Ø­Ø§ÙˆÙ„ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© ÙÙŠ Ø­ÙŠØ§ØªÙƒ.';
                } else if (details.emotions.positive > 3) {
                    advice += ' Ø§Ù„Ø­Ù„Ù… ÙŠØ­Ù…Ù„ Ø¨Ø´Ø§Ø¦Ø± Ø·ÙŠØ¨Ø©ØŒ Ø§Ø³ØªØ¨Ø´Ø± Ø¨Ø§Ù„Ø®ÙŠØ± ÙˆØ§Ø³ØªÙ…Ø± ÙÙŠ Ù…Ø³ÙŠØ±ØªÙƒ.';
                }
                
                advice += ' ØªØ°ÙƒØ± Ø£Ù† ØªÙØ³ÙŠØ± Ø§Ù„Ø£Ø­Ù„Ø§Ù… Ù„Ù„Ø§Ø³ØªØ±Ø´Ø§Ø¯ ÙˆÙ„ÙŠØ³ Ù„Ù„Ø­ØªÙ…ÙŠØ©.';
                
                return advice;
            }
        }

        // ğŸ¯ Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        document.addEventListener('DOMContentLoaded', function() {
            const analyzer = new DreamAnalyzer();
            const dreamForm = document.getElementById('dreamForm');
            
            dreamForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const dreamText = document.getElementById('dreamText').value;
                
                if (dreamText.length < 20) {
                    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙˆØµÙ Ø§Ù„Ø­Ù„Ù… Ø¨Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ (Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ 20 Ø­Ø±ÙØ§Ù‹)');
                    return;
                }
                
                // Ø§Ù„ØªØ­Ù„ÙŠÙ„
                const analysis = analyzer.analyze(dreamText);
                const databaseResults = analyzer.searchDatabase(analysis.categories, analysis.symbols);
                const interpretation = analyzer.generateInterpretation(analysis, databaseResults);
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                displayResults(interpretation, analysis);
            });
        });

        function displayResults(interpretation, analysis) {
            // Ø¹Ø±Ø¶ ØªÙØ³ÙŠØ± Ø§Ù„ÙƒØªØ¨
            document.querySelector('#ibn_sirin').innerHTML = interpretation.book;
            
            // Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ø¯ÙŠØ«
            document.getElementById('modernResult').innerHTML = interpretation.modern;
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØµÙŠØ­Ø©
            document.getElementById('adviceResult').innerHTML = interpretation.advice;
            
            // ØªØ­Ø¯ÙŠØ« Ù…ØµØ¯Ø± Ø§Ù„ØªÙØ³ÙŠØ±
            const sources = [];
            if (interpretation.book.includes('Ø§Ø¨Ù† Ø³ÙŠØ±ÙŠÙ†')) sources.push('Ø§Ø¨Ù† Ø³ÙŠØ±ÙŠÙ†');
            if (interpretation.book.includes('Ø§Ù„Ù†Ø§Ø¨Ù„Ø³ÙŠ')) sources.push('Ø§Ù„Ù†Ø§Ø¨Ù„Ø³ÙŠ');
            
            document.getElementById('interpretationSource').innerHTML = 
                `Ù…ØµØ§Ø¯Ø±: ${sources.join('ØŒ ') || 'ØªØ­Ù„ÙŠÙ„ Ø­Ø¯ÙŠØ«'}`;
            
            document.getElementById('interpretationConfidence').innerHTML = 
                `Ø«Ù‚Ø©: ${interpretation.confidence}%`;
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            document.getElementById('resultSection').style.display = 'block';
        }

        function showSource(sourceId) {
            // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª
            document.querySelectorAll('.source-content').forEach(el => {
                el.style.display = 'none';
            });
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† ÙƒÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.source-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.getElementById(sourceId).style.display = 'block';
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø±
            event.target.classList.add('active');
        }

        function showSymbolsGuide() {
            const guide = `
                <div class="symbols-guide">
                    <h3><i class="fas fa-key"></i> Ø¯Ù„ÙŠÙ„ Ø±Ù…ÙˆØ² Ø§Ù„Ø£Ø­Ù„Ø§Ù…</h3>
                    <div class="symbols-grid">
                        <div class="symbol-item">
                            <strong>Ø§Ù„Ù…Ø§Ø¡:</strong> Ø­ÙŠØ§Ø©ØŒ Ø±Ø²Ù‚ØŒ Ø¹Ù„Ù…
                        </div>
                        <div class="symbol-item">
                            <strong>Ø§Ù„Ø·ÙŠØ±Ø§Ù†:</strong> Ø³ÙØ±ØŒ Ø¹Ù„Ùˆ Ø´Ø£Ù†
                        </div>
                        <div class="symbol-item">
                            <strong>Ø§Ù„Ø£Ø³Ø¯:</strong> Ø³Ù„Ø·Ø§Ù†ØŒ Ù‚ÙˆØ©
                        </div>
                        <div class="symbol-item">
                            <strong>Ø§Ù„Ø²ÙˆØ§Ø¬:</strong> Ø§ØªØ­Ø§Ø¯ØŒ Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯
                        </div>
                        <div class="symbol-item">
                            <strong>Ø§Ù„Ù…ÙˆØª:</strong> ØªØºÙŠØ± Ø­Ø§Ù„ØŒ Ø³ÙØ±
                        </div>
                        <div class="symbol-item">
                            <strong>Ø§Ù„Ø£Ø³Ù†Ø§Ù†:</strong> Ø£Ù‡Ù„ Ø§Ù„Ø¨ÙŠØªØŒ Ø§Ù„Ø£ØµØ­Ø§Ø¨
                        </div>
                        <div class="symbol-item">
                            <strong>Ø§Ù„Ø¨ÙŠØª:</strong> Ø§Ù„Ù†ÙØ³ØŒ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©
                        </div>
                        <div class="symbol-item">
                            <strong>Ø§Ù„Ø°Ù‡Ø¨:</strong> Ù‡Ù… ÙˆØºÙ…ØŒ Ø¹Ù„Ù…
                        </div>
                    </div>
                    <p><small>ØªÙØ³ÙŠØ± Ø§Ù„Ø£Ø­Ù„Ø§Ù… ÙŠØ­ØªØ§Ø¬ Ù„ØªÙØ§ØµÙŠÙ„ Ø¯Ù‚ÙŠÙ‚Ø©. Ø­Ø§ÙˆÙ„ ØªØ°ÙƒØ± Ø§Ù„Ø£Ù„ÙˆØ§Ù†ØŒ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…ØŒ ÙˆØ§Ù„Ù…Ø´Ø§Ø¹Ø±.</small></p>
                </div>
            `;
            
            document.querySelector('#ibn_sirin').innerHTML = guide;
            document.getElementById('resultSection').style.display = 'block';
        }
    </script>
</body>
</html>
